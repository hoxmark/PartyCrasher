#!/bin/bash

# 16 cores ubuntu 15
ssh -i /Users/hoxmark/Downloads/hoxmark.pem ubuntu@169.231.235.158 << EOF
    sudo rm -R test
    mkdir test
    cd test
    sudo apt-get install unzip
    sudo rm -R Client
    sudo rm Client.zip?dl=0

    wget https://www.dropbox.com/s/1ogcto0vtiwwn3f/Client.zip?dl=0

    unzip Client.zip?dl=0 -d ./

    cd Client

    gcc -O3 -o client.o nextwork.c

    ./client.o 104.198.30.238 5004 4 1 >> log.txt & 
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown

    exit
    logout
EOF

# # 16 cores ubuntu 15
ssh -i /Users/hoxmark/Downloads/hoxmark.pem ubuntu@169.231.235.188 << EOF
    sudo rm -R test
    mkdir test
    cd test
   sudo apt-get install unzip
sudo rm -R Client
sudo rm Client.zip?dl=0

wget https://www.dropbox.com/s/1ogcto0vtiwwn3f/Client.zip?dl=0

unzip Client.zip?dl=0 -d ./

cd Client

gcc -O3 -o client.o nextwork.c

./client.o 104.198.30.238 5004 4 1 >> log.txt & 
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown
./client.o 104.198.30.238 5004 4 1 >> log.txt &
disown

exit
EOF

# 16 cores ubuntu 15
ssh -i /Users/hoxmark/Downloads/hoxmark.pem ubuntu@169.231.235.133 << EOF
    sudo rm -R test
    mkdir test
    cd test
   sudo apt-get install unzip
    sudo rm -R Client
    sudo rm Client.zip?dl=0

    wget https://www.dropbox.com/s/1ogcto0vtiwwn3f/Client.zip?dl=0

    unzip Client.zip?dl=0 -d ./

    cd Client

    gcc -O3 -o client.o nextwork.c

    ./client.o 104.198.30.238 5004 4 1 >> log.txt & 
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown

    exit
EOF

# 16 cores ubuntu 15
ssh -i /Users/hoxmark/Downloads/hoxmark.pem ubuntu@169.231.235.175 << EOF
    sudo rm -R test
    mkdir test
    cd test
   sudo apt-get install unzip
    sudo rm -R Client
    sudo rm Client.zip?dl=0

    wget https://www.dropbox.com/s/1ogcto0vtiwwn3f/Client.zip?dl=0

    unzip Client.zip?dl=0 -d ./

    cd Client

    gcc -O3 -o client.o nextwork.c

    ./client.o 104.198.30.238 5004 4 1 >> log.txt & 
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown
    ./client.o 104.198.30.238 5004 4 1 >> log.txt &
    disown

    exit
EOF

